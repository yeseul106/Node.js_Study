## Ch1. 노드 시작하기
<br>

### 1.1 핵심 개념 이해하기
----
**1. 서버**
- **서버란?** 
> 네트워크를 통해 클라이언트에 정보나 서비스를 제공하는 컴퓨터 또는 프로그램 


- 웹이나 앱을 사용할 떼 데이터(아이디, 비밀번호, 이메일 등)와 서비스의 데이터가 생성되면, 이를 어딘가에 저장하고 클라이언트는 이 어딘가에서 데이터를 받아와야하는데 이곳이 바로 서버이다.

- 노드는 자바스크립트 프로그램이 서버로서 기능하기 위한 도구를 제공하므로 서버 역할을 수행할 수 있음.
<br>

**2. 자바스크립트 런타임**
- 공식 사이트에 게시된 노드 소개글

> Node.js는 Chrome V8 Javascript 엔진으로 빌드된 Javascript 런타임

- **런타임이란?** 특정 언어로 만든 프로그램들을 실행할 수 있는 환경

- 쉽게 말해 노드는 자바스크립트 실행기라고 봐도 무방하다.

![image](https://user-images.githubusercontent.com/68415644/157569271-bd28972c-8fd5-42b5-b359-bac55dea773f.png)

- 노드는 V8 과 libuv 라는 라이브러리를 사용. 

  - libuv 라이브러리는 노드의 특성인 **이벤트 기반, 논 블로킹 I/O** 모델을 구현하고 있다.

**3. 이벤트 기반**
- **이벤트 기반이란?**


> 이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식을 의미한다.

- 이벤트 리스너에 콜백 함수를 등록하여 특정 이벤트 발생 처리

![image](https://user-images.githubusercontent.com/68415644/157579880-e7410a0d-beb0-4d2a-8fc0-304f0341c536.png)
- 여러 이벤트가 동시에 발생했을 때는 **이벤트 루프**가 어떤 순서로 콜백 함수를 호출할지 판단한다.

- 노드는 자바스크립트 코드의 맨 위부터 한 줄씩 실행한다. 함수 호출 부분을 발견했다면 호출된 함수를 호출 스택(call stack)에 넣는다.
````javascript
function first() {
  second();
  console.log('첫 번째');
}
function second() {
  third();
  console.log('두 번째');
}
function third() {
  console.log('세 번째');
}
first();
````

위와 같은 코드를 실행하면, 콘솔의 출력 결과는 다음과 같다.
```
세 번째
두 번째
첫 번째
```
- 이처럼 실행은 호출 스택에 쌓인 함수를 쌓인 순서와 반대로 꺼내어 완료된다.

- 특정 밀리초 이후에 코드를 실행하는 setTimeout을 사용한 다음 코드를 실행하면,

``` js
function run() {
  console.log('3초 후 실행');
}
console.log('시작');
setTimeout(run, 3000);
console.log('끝');
```
콘솔 결과는 다음과 같다.

```
시작
끝
3초 후 실행
```
위의 경우는 호출 스택으로 설명하기는 어렵다. setTimeout 함수의 콜백인 run이 호출 스택에 언제 들어가는지 파악이 어렵기 때문이다.

- 이를 파악하기 위해서는 이벤트 루프, 테스크 큐, 백그라운드를 알아야 한다.
  - **이벤트 루프** : 이벤트 발생 시 호출할 콜백 함수들을 관리하고, 실행 순서를 결정하는 역할을 담당한다.
  
  - **백그라운드** : setTimeout 같은 타이머나 이벤트 리스너들이 대기하는 곳. 여러 작업이 동시에 실행될 수 있다.

  - **태스크 큐** : 이벤트 발생 후, 백그라운드에서는 태스크 큐로 타이머나 이벤트 리스너의 콜백 함수를 보낸다. 정해진 순서대로 콜백들이 줄을 서 있으므로 콜백 큐라고도 한다.
